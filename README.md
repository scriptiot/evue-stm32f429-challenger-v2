# EVUE for 野火 挑战者开发板

## 开发板资料
资料下载链接
野火STM32F429挑战者_V1_V2开发板资料链接：

链接： https://pan.baidu.com/s/14LzjYW1WW393poaUQJocJw
提取码：9owt

## 程序说明

1.  开发环境为KEIL5.21
2.  液晶屏尺寸为5寸，分辨率为800x480
3.  开发板上电时，尽量使用外部电源供电。烧写器供电会导致SDRAM读写出现问题。
4.  本程序使用USB OTG作为外挂U盘模式，复位开发板同时，按住KEY1一会儿后松开KEY1，进入U盘模式。否则直接从SPI Flash中寻找程序执行。
5.  进入U盘模式后，可以将samples里面的文件拷贝到U盘根目录。
6.  本程序为虚拟机开辟了150KB heap，理论上能运行5个不同界面。由于目前还没有实现资源释放功能，页面资源会一直驻留在heap中。当heap不够用时，会出现hardfault。
7.  测试用例的music页面在开启lvgl png解码时，会导致死机。目前问题定位在lvgl代码里面，具体还待研究。
8.  移植部分主要分为两个文件：evm_main.c 和 lvgl_main.c。lvgl的配置文件为lv_config.h，evue的配置文件为app_config.h。


## 后续工作说明

1.  增加页面replace功能，即替换页面，释放之前页面资源。
2.  资源释放采用gc自动回收模式，gc触发后主动释放hml对象、lvgl对象和evm对象。
3.  增加字节码文件加载模式，减少脚本文件加载占用的资源和时间。
4.  提高lvgl动画刷新率。


## EVM官方QQ交流群
群号：399011436
